<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Freunde-Kalender Offenbach</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Offenbach_Skyline_2006-06-06.jpg/1920px-Offenbach_Skyline_2006-06-06.jpg') no-repeat center center/cover;
    min-height: 100vh;
    color: white;
  }
  #container {
    max-width: 900px;
    margin: 60px auto 40px;
    background: rgba(0,0,0,0.6);
    border-radius: 12px;
    padding: 20px 30px 40px;
    box-sizing: border-box;
  }
  h1, h2 {
    text-align: center;
    margin-bottom: 20px;
  }
  button {
    cursor: pointer;
    background: #4CAF50;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    color: white;
    font-weight: 600;
    margin: 6px;
    transition: background-color 0.3s;
  }
  button:hover {
    background: #45a049;
  }
  input[type="text"], input[type="number"], input[type="time"] {
    padding: 8px;
    border-radius: 6px;
    border: none;
    margin-bottom: 12px;
    width: 100%;
    box-sizing: border-box;
  }
  label {
    display: block;
    margin-top: 12px;
    font-weight: 600;
  }
  #error-msg {
    color: #ff6666;
    font-weight: bold;
    margin-top: 10px;
    text-align: center;
  }
  .hidden { display: none; }
  #nav-back-to-start {
    display: block;
    margin: 10px auto 20px;
    text-align: center;
    font-weight: 600;
    color: #ccc;
    cursor: pointer;
    text-decoration: underline;
  }
  #nav-back-to-start:hover {
    color: white;
  }
  /* Kalender Styles */
  #calendar-controls {
    text-align: center;
    margin-bottom: 15px;
  }
  #calendar-controls button {
    margin: 0 10px;
  }
  #calendar-view-toggle {
    margin-left: 20px;
  }
  #calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    user-select: none;
  }
  .day {
    background: rgba(255,255,255,0.15);
    border-radius: 6px;
    padding: 12px 6px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.25s;
  }
  .day:hover {
    background: rgba(255,255,255,0.3);
  }
  .day.disabled {
    background: #444;
    cursor: default;
    color: #999;
  }
  .day.selected-start {
    background: #2196F3;
    color: white;
  }
  .day.selected-end {
    background: #0D47A1;
    color: white;
  }
  .day.selected-range {
    background: #90CAF9;
    color: black;
  }
  .day.booked {
    background: #e74c3c;
    color: white;
    cursor: default;
  }
  .day.blocked {
    background: #555;
    color: #999;
    cursor: default;
  }
  .weekday-header {
    font-weight: 700;
    padding: 8px 0;
    text-align: center;
    user-select: none;
  }
  /* Form container */
  #booking-form {
    margin-top: 30px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 20px;
    color: #eee;
  }
  #booking-form label {
    margin-top: 10px;
    font-weight: 600;
  }
  #booking-form input, #booking-form select, #booking-form textarea {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border-radius: 6px;
    border: none;
  }
</style>
</head>
<body>
  <div id="container">

    <!-- LOGIN -->
    <div id="login-box">
      <h1>Willkommen Freunde!</h1>
      <button id="friend-login-btn">Als Freund einloggen (kein Passwort)</button>
      <hr style="margin: 20px 0; border-color: #666;">
      <label for="admin-password">Admin Passwort:</label>
      <input type="password" id="admin-password" placeholder="Passwort eingeben" />
      <button id="admin-login-btn">Admin Login</button>
      <p id="error-msg"></p>
    </div>

    <!-- FREUNDE-BEREICH -->
    <div id="friend-content" class="hidden">
      <h2>Freunde Bereich</h2>
      <div id="calendar-controls">
        <button id="prev-month">« Zurück</button>
        <button id="next-month">Weiter »</button>
        <label>
          Ansicht:
          <select id="calendar-view-toggle" title="Monats- oder Jahresansicht wählen">
            <option value="month">Monat</option>
            <option value="year">Jahr</option>
          </select>
        </label>
      </div>
      <div id="calendar"></div>

      <form id="booking-form" class="hidden">
        <h3>Buchung erfassen</h3>
        <label for="name">Name *</label>
        <input type="text" id="name" required placeholder="Dein Name" />

        <label for="persons">Anzahl Personen *</label>
        <input type="number" id="persons" min="1" value="1" required />

        <label for="breakfast">Frühstück benötigt?</label>
        <select id="breakfast">
          <option value="Nein" selected>Nein</option>
          <option value="Ja">Ja</option>
        </select>

        <label for="arrival-time">Anreiseuhrzeit</label>
        <input type="time" id="arrival-time" />

        <label for="departure-time">Abreiseuhrzeit</label>
        <input type="time" id="departure-time" />

        <button type="submit">Buchen</button>
        <button type="button" id="cancel-booking">Abbrechen</button>
      </form>
    </div>

    <!-- ADMIN-BEREICH -->
    <div id="admin-content" class="hidden">
      <h2>Admin Bereich</h2>
      <button id="logout-btn">Logout</button>
      <div id="admin-info">
        <h3>Geblockte Tage</h3>
        <div id="blocked-days-list"></div>
        <button id="block-day-btn">Tag blockieren</button>
        <button id="unblock-day-btn">Tag freigeben</button>
        <input type="date" id="block-date" />
        <hr />
        <h3>Buchungen</h3>
        <div id="bookings-list" style="max-height:300px; overflow:auto; background:#222; padding:10px; border-radius:8px;"></div>
        <button id="export-bookings-btn">Buchungen exportieren (JSON)</button>
      </div>
    </div>

    <div id="nav-back-to-start" class="hidden" title="Zur Startseite zurück">Zur Startseite</div>

  </div>

<script>
  // --- Daten & Status ---
  const ADMIN_PASSWORD = "test123";

  // Kalenderbereich
  const calendarStartYear = 2025;
  const calendarStartMonth = 8; // 0-basiert: September = 8
  const calendarEndYear = 2040;
  const calendarEndMonth = 11; // Dezember = 11

  // App State
  let currentView = "month"; // "month" oder "year"
  let currentYear = calendarStartYear;
  let currentMonth = calendarStartMonth;
  let selectedStartDate = null;
  let selectedEndDate = null;
  let blockedDays = JSON.parse(localStorage.getItem("blockedDays")) || [];
  let bookings = JSON.parse(localStorage.getItem("bookings")) || [];

  // --- Hilfsfunktionen ---
  function saveData() {
    localStorage.setItem("blockedDays", JSON.stringify(blockedDays));
    localStorage.setItem("bookings", JSON.stringify(bookings));
  }

  function dateToYMD(date) {
    const yyyy = date.getFullYear();
    const mm = (date.getMonth()+1).toString().padStart(2,"0");
    const dd = date.getDate().toString().padStart(2,"0");
    return `${yyyy}-${mm}-${dd}`;
  }

  function ymdToDate(ymd) {
    return new Date(ymd + "T00:00:00");
  }

  // Prüft, ob ein Tag geblockt ist
  function isBlocked(day) {
    return blockedDays.includes(day);
  }

  // Prüft, ob Tag gebucht ist (Teil einer Buchung)
  function isBooked(day) {
    for(let b of bookings) {
      const start = ymdToDate(b.startDate);
      const end = ymdToDate(b.endDate);
      const d = ymdToDate(day);
      if(d >= start && d <= end) return true;
    }
    return false;
  }

  // --- Rendering Kalender ---
  function renderCalendar() {
    const calendarEl = document.getElementById("calendar");
    calendarEl.innerHTML = "";

    // Wochentagsüberschriften
    const weekdays = ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"];
    for(let wd of weekdays) {
      const hd = document.createElement("div");
      hd.className = "weekday-header";
      hd.textContent = wd;
      calendarEl.appendChild(hd);
    }

    if(currentView === "month") {
      renderMonthCalendar(calendarEl);
    } else {
      renderYearCalendar(calendarEl);
    }
  }

  function renderMonthCalendar(calendarEl) {
    // Anzahl Tage im Monat
    const daysInMonth = new Date(currentYear, currentMonth+1, 0).getDate();
    // Erster Tag im Monat (Wochentag 0=So)
    const firstWeekday = new Date(currentYear, currentMonth, 1).getDay();

    // Platzhalter vor erstem Tag
    for(let i=0; i<firstWeekday; i++) {
      const emptyCell = document.createElement("div");
      calendarEl.appendChild(emptyCell);
    }

    for(let day=1; day <= daysInMonth; day++) {
      const dateStr = dateToYMD(new Date(currentYear, currentMonth, day));
      const dayEl = document.createElement("div");
      dayEl.className = "day";

      // Disabled wenn vor Start oder nach Ende des Kalenders
      if((currentYear < calendarStartYear) ||
        (currentYear === calendarStartYear && currentMonth < calendarStartMonth) ||
        (currentYear > calendarEndYear) ||
        (currentYear === calendarEndYear && currentMonth > calendarEndMonth)) {
        dayEl.classList.add("disabled");
      }

      if(isBlocked(dateStr)) dayEl.classList.add("blocked");
      if(isBooked(dateStr)) dayEl.classList.add("booked");

      dayEl.textContent = day;

      // Auswahllogik nur wenn nicht blockiert oder gebucht
      if(!dayEl.classList.contains("blocked") && !dayEl.classList.contains("booked")) {
        dayEl.addEventListener("click", () => {
          handleDateClick(dateStr);
        });
      } else {
        dayEl.style.cursor = "default";
      }

      // Markiere ausgewählte Tage
      if(selectedStartDate === dateStr) dayEl.classList.add("selected-start");
      else if(selectedEndDate === dateStr) dayEl.classList.add("selected-end");
      else if(selectedStartDate && selectedEndDate) {
        const sd = ymdToDate(selectedStartDate);
        const ed = ymdToDate(selectedEndDate);
        const d = ymdToDate(dateStr);
        if(d > sd && d < ed) dayEl.classList.add("selected-range");
      }

      calendarEl.appendChild(dayEl);
    }
  }

  function renderYearCalendar(calendarEl) {
    calendarEl.style.gridTemplateColumns = "repeat(4, 1fr)";
    calendarEl.innerHTML = "";

    for(let m = 0; m < 12; m++) {
      const monthWrapper = document.createElement("div");
      monthWrapper.style.border = "1px solid #888";
      monthWrapper.style.margin = "5px";
      monthWrapper.style.padding = "5px";
      monthWrapper.style.borderRadius = "8px";
      monthWrapper.style.background = "rgba(255,255,255,0.1)";
      monthWrapper.style.color = "white";
      monthWrapper.style.userSelect = "none";

      const monthName = new Date(currentYear, m, 1).toLocaleString("de-DE", {month:"long"});
      const title = document.createElement("h4");
      title.textContent = monthName;
      title.style.textAlign = "center";
      title.style.margin = "5px 0 10px";
      monthWrapper.appendChild(title);

      // Wochentagsüberschriften
      const weekdays = ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"];
      const weekdaysRow = document.createElement("div");
      weekdaysRow.style.display = "grid";
      weekdaysRow.style.gridTemplateColumns = "repeat(7, 1fr)";
      weekdaysRow.style.fontWeight = "700";
      weekdaysRow.style.fontSize = "0.75rem";
      weekdaysRow.style.marginBottom = "4px";
      for(let wd of weekdays) {
        const hd = document.createElement("div");
        hd.style.textAlign = "center";
        hd.textContent = wd;
        weekdaysRow.appendChild(hd);
      }
      monthWrapper.appendChild(weekdaysRow);

      // Anzahl Tage im Monat
      const daysInMonth = new Date(currentYear, m+1, 0).getDate();
      // Erster Wochentag
      const firstWeekday = new Date(currentYear, m, 1).getDay();

      const daysGrid = document.createElement("div");
      daysGrid.style.display = "grid";
      daysGrid.style.gridTemplateColumns = "repeat(7, 1fr)";
      daysGrid.style.gap = "3px";

      // Platzhalter
      for(let i=0; i<firstWeekday; i++) {
        const emptyCell = document.createElement("div");
        daysGrid.appendChild(emptyCell);
      }

      for(let day=1; day <= daysInMonth; day++) {
        const dateStr = dateToYMD(new Date(currentYear, m, day));
        const dayEl = document.createElement("div");
        dayEl.textContent = day;
        dayEl.style.textAlign = "center";
        dayEl.style.padding = "4px 0";
        dayEl.style.borderRadius = "4px";
        dayEl.style.cursor = "pointer";
        dayEl.style.background = "rgba(255,255,255,0.15)";
        dayEl.style.color = "white";

        if(isBlocked(dateStr)) {
          dayEl.style.background = "#555";
          dayEl.style.color = "#999";
          dayEl.style.cursor = "default";
        }
        if(isBooked(dateStr)) {
          dayEl.style.background = "#e74c3c";
          dayEl.style.color = "white";
          dayEl.style.cursor = "default";
        }

        dayEl.addEventListener("click", () => {
          if(!isBlocked(dateStr) && !isBooked(dateStr)) {
            handleDateClick(dateStr);
          }
        });

        if(selectedStartDate === dateStr) {
          dayEl.style.background = "#2196F3";
          dayEl.style.color = "white";
        } else if(selectedEndDate === dateStr) {
          dayEl.style.background = "#0D47A1";
          dayEl.style.color = "white";
        } else if(selectedStartDate && selectedEndDate) {
          const sd = ymdToDate(selectedStartDate);
          const ed = ymdToDate(selectedEndDate);
          const d = ymdToDate(dateStr);
          if(d > sd && d < ed) {
            dayEl.style.background = "#90CAF9";
            dayEl.style.color = "black";
          }
        }

        daysGrid.appendChild(dayEl);
      }

      monthWrapper.appendChild(daysGrid);
      calendarEl.appendChild(monthWrapper);
    }
  }

  // --- Datumsauswahl im Kalender ---
  function handleDateClick(dateStr) {
    if(!selectedStartDate || (selectedStartDate && selectedEndDate)) {
      selectedStartDate = dateStr;
      selectedEndDate = null;
      showBookingForm(false);
    } else if(selectedStartDate && !selectedEndDate) {
      // enddatum darf nicht vor startdatum sein
      if(ymdToDate(dateStr) < ymdToDate(selectedStartDate)) {
        alert("Enddatum darf nicht vor Startdatum liegen.");
        return;
      }
      selectedEndDate = dateStr;
      showBookingForm(true);
    }
    renderCalendar();
  }

  // --- Kalender Navigation ---
  function goPrev() {
    if(currentView === "month") {
      if(currentYear === calendarStartYear && currentMonth === calendarStartMonth) return;
      currentMonth--;
      if(currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
    } else {
      if(currentYear <= calendarStartYear) return;
      currentYear--;
    }
    resetSelection();
    renderCalendar();
  }
  function goNext() {
    if(currentView === "month") {
      if(currentYear === calendarEndYear && currentMonth === calendarEndMonth) return;
      currentMonth++;
      if(currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
    } else {
      if(currentYear >= calendarEndYear) return;
      currentYear++;
    }
    resetSelection();
    renderCalendar();
  }

  function resetSelection() {
    selectedStartDate = null;
    selectedEndDate = null;
    showBookingForm(false);
  }

  // --- Buchungsformular ein-/ausblenden ---
  function showBookingForm(show) {
    const form = document.getElementById("booking-form");
    if(show) {
      form.classList.remove("hidden");
      scrollTo(0, document.body.scrollHeight);
    } else {
      form.classList.add("hidden");
      clearForm();
    }
  }

  function clearForm() {
    document.getElementById("name").value = "";
    document.getElementById("persons").value = "1";
    document.getElementById("breakfast").value = "Nein";
    document.getElementById("arrival-time").value = "";
    document.getElementById("departure-time").value = "";
  }

  // --- Buchung speichern ---
  function saveBooking(data) {
    bookings.push(data);
    saveData();
  }

  // --- UI Switches ---
  function showLogin(show) {
    document.getElementById("login-box").style.display = show ? "block" : "none";
  }
  function showFriendContent(show) {
    document.getElementById("friend-content").style.display = show ? "block" : "none";
  }
  function showAdminContent(show) {
    document.getElementById("admin-content").style.display = show ? "block" : "none";
  }
  function showBackToStart(show) {
    document.getElementById("nav-back-to-start").classList.toggle("hidden", !show);
  }

  // --- Event Listeners ---

  // Login Buttons
  document.getElementById("friend-login-btn").addEventListener("click", () => {
    showLogin(false);
    showFriendContent(true);
    showAdminContent(false);
    showBackToStart(false);
    // Start Kalender bei Startdatum
    currentYear = calendarStartYear;
    currentMonth = calendarStartMonth;
    resetSelection();
    renderCalendar();
  });

  document.getElementById("admin-login-btn").addEventListener("click", () => {
    const pw = document.getElementById("admin-password").value;
    const errorMsg = document.getElementById("error-msg");
    if(pw === ADMIN_PASSWORD) {
      errorMsg.textContent = "";
      showLogin(false);
      showFriendContent(false);
      showAdminContent(true);
      showBackToStart(true);
      renderAdminBlockedDays();
      renderAdminBookings();
    } else {
      errorMsg.textContent = "Falsches Passwort!";
    }
  });

  // Logout
  document.getElementById("logout-btn").addEventListener("click", () => {
    showLogin(true);
    showFriendContent(false);
    showAdminContent(false);
    showBackToStart(false);
  });

  // Kalender Navigation
  document.getElementById("prev-month").addEventListener("click", () => {
    goPrev();
  });
  document.getElementById("next-month").addEventListener("click", () => {
    goNext();
  });

  // Ansicht wechseln
  document.getElementById("calendar-view-toggle").addEventListener("change", (e) => {
    currentView = e.target.value;
    resetSelection();
    renderCalendar();
  });

  // Buchungsformular abbrechen
  document.getElementById("cancel-booking").addEventListener("click", () => {
    resetSelection();
    showBookingForm(false);
  });

  // Buchung absenden
  document.getElementById("booking-form").addEventListener("submit", (e) => {
    e.preventDefault();
    if(!selectedStartDate || !selectedEndDate) {
      alert("Bitte Start- und Enddatum wählen.");
      return;
    }
    const name = document.getElementById("name").value.trim();
    if(!name) {
      alert("Bitte Namen eingeben.");
      return;
    }
    const persons = parseInt(document.getElementById("persons").value);
    if(isNaN(persons) || persons < 1) {
      alert("Bitte gültige Anzahl Personen eingeben.");
      return;
    }
    const breakfast = document.getElementById("breakfast").value;
    const arrivalTime = document.getElementById("arrival-time").value;
    const departureTime = document.getElementById("departure-time").value;

    // Check overlapping bookings or blocked days
    const startD = ymdToDate(selectedStartDate);
    const endD = ymdToDate(selectedEndDate);

    for(let b of bookings) {
      const bStart = ymdToDate(b.startDate);
      const bEnd = ymdToDate(b.endDate);
      if((startD <= bEnd) && (endD >= bStart)) {
        alert("Der gewählte Zeitraum überschneidet sich mit einer bestehenden Buchung.");
        return;
      }
    }

    for(let bd of blockedDays) {
      const bdDate = ymdToDate(bd);
      if(bdDate >= startD && bdDate <= endD) {
        alert("Der gewählte Zeitraum überschneidet sich mit blockierten Tagen.");
        return;
      }
    }

    const bookingData = {
      startDate: selectedStartDate,
      endDate: selectedEndDate,
      name,
      persons,
      breakfast,
      arrivalTime,
      departureTime,
    };

    saveBooking(bookingData);
    alert("Buchung erfolgreich gespeichert.");
    resetSelection();
    showBookingForm(false);
    renderCalendar();
    if(currentView === "year") renderYearCalendar(document.getElementById("calendar"));
  });

  // Admin blockierte Tage hinzufügen
  document.getElementById("add-blocked-day-btn").addEventListener("click", () => {
    const blockedDateInput = document.getElementById("blocked-date");
    const dateStr = blockedDateInput.value;
    if(!dateStr) {
      alert("Bitte Datum auswählen.");
      return;
    }
    if(blockedDays.includes(dateStr)) {
      alert("Datum ist bereits blockiert.");
      return;
    }
    blockedDays.push(dateStr);
    saveData();
    blockedDateInput.value = "";
    renderAdminBlockedDays();
    renderCalendar();
    alert("Tag erfolgreich blockiert.");
  });

  // Admin blockierte Tage entfernen
  document.getElementById("blocked-days-list").addEventListener("click", (e) => {
    if(e.target.classList.contains("remove-blocked-day")) {
      const dateStr = e.target.dataset.date;
      blockedDays = blockedDays.filter(d => d !== dateStr);
      saveData();
      renderAdminBlockedDays();
      renderCalendar();
      alert("Tag erfolgreich freigegeben.");
    }
  });

  // --- Admin Buchungen anzeigen ---
  function renderAdminBookings() {
    const bookingsList = document.getElementById("bookings-list");
    bookingsList.innerHTML = "";
    if(bookings.length === 0) {
      bookingsList.textContent = "Keine Buchungen vorhanden.";
      return;
    }
    for(let b of bookings) {
      const li = document.createElement("li");
      li.textContent = `${b.startDate} bis ${b.endDate} - ${b.name} (${b.persons} Personen)`;
      bookingsList.appendChild(li);
    }
  }

  // --- Admin blockierte Tage anzeigen ---
  function renderAdminBlockedDays() {
    const list = document.getElementById("blocked-days-list");
    list.innerHTML = "";
    if(blockedDays.length === 0) {
      list.textContent = "Keine blockierten Tage.";
      return;
    }
    for(let d of blockedDays) {
      const li = document.createElement("li");
      li.textContent = d + " ";
      const btn = document.createElement("button");
      btn.textContent = "Entfernen";
      btn.classList.add("remove-blocked-day");
      btn.dataset.date = d;
      li.appendChild(btn);
      list.appendChild(li);
    }
  }

  // --- Initialisierung ---
  function init() {
    loadData();
    showLogin(true);
    showFriendContent(false);
    showAdminContent(false);
    showBackToStart(false);
    currentYear = calendarStartYear;
    currentMonth = calendarStartMonth;
    renderCalendar();
  }

  window.onload = init;
</script>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #222;
    color: white;
    margin: 0; padding: 0;
  }
  #calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
    max-width: 700px;
    margin: 20px auto;
  }
  #calendar.month .day,
  #calendar.month .empty {
    padding: 8px;
    text-align: center;
  }
  .day {
    background: rgba(255,255,255,0.1);
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
  }
  .day.disabled {
    background: rgba(255,255,255,0.03);
    color: #666;
    cursor: default;
  }
  .day.blocked {
    background: #555;
    color: #999;
    cursor: default;
  }
  .day.booked {
    background: #e74c3c;
    color: white;
    cursor: default;
  }
  .day.selected-start {
    background: #2196F3;
    color: white;
  }
  .day.selected-end {
    background: #0D47A1;
    color: white;
  }
  .day.selected-range {
    background: #90CAF9;
    color: black;
  }
  #booking-form.hidden {
    display: none;
  }
  #booking-form {
    max-width: 400px;
    margin: 20px auto;
    background: #333;
    padding: 15px;
    border-radius: 8px;
  }
  #booking-form label {
    display: block;
    margin-bottom: 5px;
  }
  #booking-form input, #booking-form select {
    width: 100%;
    padding: 6px;
    margin-bottom: 10px;
    border-radius: 4px;
    border: none;
  }
  #booking-form button {
    padding: 8px 12px;
    background: #2196F3;
    border: none;
    color: white;
    border-radius: 4px;
    cursor: pointer;
  }
  #admin-content, #friend-content, #login-box {
    max-width: 700px;
    margin: 10px auto;
  }
  #blocked-days-list button.remove-blocked-day {
    margin-left: 10px;
    background: #c0392b;
    border: none;
    color: white;
    border-radius: 4px;
    cursor: pointer;
  }
  #nav-back-to-start.hidden {
    display: none;
  }
</style>

<div id="login-box">
  <h2>Login</h2>
  <button id="friend-login-btn">Freund Login</button>
  <div style="margin-top:10px;">
    <input id="admin-password" type="password" placeholder="Admin Passwort" />
    <button id="admin-login-btn">Admin Login</button>
    <div id="error-msg" style="color:#e74c3c; margin-top:5px;"></div>
  </div>
</div>

<div id="friend-content" style="display:none;">
  <h2>Kalender</h2>
  <select id="calendar-view-toggle">
    <option value="month" selected>Monat</option>
    <option value="year">Jahr</option>
  </select>
  <div style="display:flex; justify-content: space-between; max-width: 700px; margin: 10px auto;">
    <button id="prev-month">‹</button>
    <button id="next-month">›</button>
  </div>
  <div id="calendar" class="month"></div>

  <form id="booking-form" class="hidden">
    <h3>Buchung</h3>
    <label for="name">Name</label>
    <input id="name" required />
    <label for="persons">Personen</label>
    <input id="persons" type="number" min="1" value="1" />
    <label for="breakfast">Frühstück</label>
    <select id="breakfast">
      <option>Nein</option>
      <option>Ja</option>
    </select>
    <label for="arrival-time">Ankunftszeit</label>
    <input id="arrival-time" type="time" />
    <label for="departure-time">Abfahrtszeit</label>
    <input id="departure-time" type="time" />
    <button type="submit">Buchen</button>
    <button type="button" id="cancel-booking">Abbrechen</button>
  </form>
</div>

<div id="admin-content" style="display:none;">
  <h2>Adminbereich</h2>
  <label for="blocked-date">Datum blockieren</label>
  <input id="blocked-date" type="date" />
  <button id="add-blocked-day-btn">Blockieren</button>
  <ul id="blocked-days-list"></ul>
  <h3>Alle Buchungen</h3>
  <ul id="bookings-list"></ul>
  <button id="logout-btn">Logout</button>
</div>

<div id="nav-back-to-start" class="hidden" style="text-align:center; margin: 15px;">
  <button id="back-to-start-btn">Zurück zum Start</button>
</div>

<script>
  document.getElementById("back-to-start-btn").addEventListener("click", () => {
    showLogin(true);
    showFriendContent(false);
    showAdminContent(false);
    showBackToStart(false);
  });
</script>
